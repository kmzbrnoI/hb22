EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 6
Title "HB22 – DCC booster"
Date "2021-12-28"
Rev "1.0"
Comp "Model Railroader Club Brno I – KMŽ Brno I – https://kmz-brno.cz/"
Comment1 "Jan Horáček"
Comment2 "https://github.com/kmzbrnoI/hb22"
Comment3 "https://creativecommons.org/licenses/by-sa/4.0/"
Comment4 "Released under the Creative Commons Attribution-ShareAlike 4.0 License"
$EndDescr
$Sheet
S 8900 2250 1050 1650
U 61CF16A7
F0 "Bridge" 50
F1 "bridge.sch" 50
F2 "V+" I L 8900 2350 50 
F3 "K" O R 9950 3200 50 
F4 "J" O R 9950 2950 50 
F5 "BRIDGE1" I L 8900 2700 50 
F6 "BRIDGE2" I L 8900 2850 50 
F7 "BRIDGE3" I L 8900 3000 50 
F8 "BRIDGE4" I L 8900 3150 50 
F9 "OVERHEAT" O L 8900 3750 50 
F10 "SDA" B L 8900 3600 50 
F11 "SCL" B L 8900 3450 50 
$EndSheet
$Sheet
S 6950 2250 1050 1050
U 61D0378D
F0 "Logic" 50
F1 "logic.sch" 50
F2 "EN1" I L 6950 2350 50 
F3 "EN2" I L 6950 2500 50 
F4 "BRIDGE1" O R 8000 2700 50 
F5 "BRIDGE2" O R 8000 2850 50 
F6 "BRIDGE3" O R 8000 3000 50 
F7 "BRIDGE4" O R 8000 3150 50 
F8 "L-DCC" I L 6950 3150 50 
$EndSheet
$Sheet
S 2800 5850 1200 1200
U 62367840
F0 "Stabilization" 50
F1 "stabil.sch" 50
F2 "VIN" I L 2800 5950 50 
F3 "STEPDOWN-EN" I R 4000 6200 50 
F4 "V+" O R 4000 5950 50 
F5 "SDA" B R 4000 6700 50 
F6 "SCL" B R 4000 6850 50 
F7 "STABIL-OVERHEAT" O R 4000 6350 50 
F8 "OVERLOAD" O R 4000 6500 50 
$EndSheet
Wire Wire Line
	1850 5950 2000 5950
Wire Wire Line
	4000 5950 8450 5950
Wire Wire Line
	8450 5950 8450 2350
Wire Wire Line
	8450 2350 8900 2350
Wire Wire Line
	8900 2700 8000 2700
Wire Wire Line
	8000 2850 8900 2850
Wire Wire Line
	8000 3000 8900 3000
Wire Wire Line
	8000 3150 8900 3150
Wire Wire Line
	6150 3750 8900 3750
Wire Wire Line
	1850 5350 10200 5350
Wire Wire Line
	10200 5350 10200 3200
Wire Wire Line
	10200 3200 9950 3200
Wire Wire Line
	1850 5150 10400 5150
Wire Wire Line
	10400 5150 10400 2950
Wire Wire Line
	10400 2950 9950 2950
Wire Wire Line
	6150 2350 6950 2350
Wire Wire Line
	6950 2500 6150 2500
Wire Wire Line
	6150 3150 6550 3150
Wire Wire Line
	6550 3150 6550 950 
Wire Wire Line
	6550 950  1850 950 
Connection ~ 6550 3150
Wire Wire Line
	6550 3150 6950 3150
Wire Wire Line
	4000 6350 4450 6350
Wire Wire Line
	4450 6350 4450 4350
Wire Wire Line
	4450 4350 4900 4350
Wire Wire Line
	4900 4200 4300 4200
Wire Wire Line
	4300 4200 4300 6200
Wire Wire Line
	4300 6200 4000 6200
Wire Wire Line
	4000 6700 4200 6700
Wire Wire Line
	4000 6850 4200 6850
Text GLabel 4200 6700 2    50   BiDi ~ 0
SDA
Text GLabel 8750 3450 0    50   BiDi ~ 0
SCL
Wire Wire Line
	8750 3600 8900 3600
Wire Wire Line
	8750 3450 8900 3450
Text GLabel 8750 3600 0    50   BiDi ~ 0
SDA
Text GLabel 4200 6850 2    50   BiDi ~ 0
SCL
Wire Wire Line
	4900 1500 4700 1500
Wire Wire Line
	4900 1350 4700 1350
Text GLabel 3150 3450 2    50   BiDi ~ 0
SDA
Text GLabel 4700 1350 0    50   BiDi ~ 0
SDA
Text GLabel 3150 3600 2    50   BiDi ~ 0
SCL
Text GLabel 4700 1500 0    50   BiDi ~ 0
SCL
Wire Wire Line
	1850 1800 4900 1800
Wire Wire Line
	1850 1950 4900 1950
Wire Wire Line
	1850 2100 4900 2100
Wire Wire Line
	1850 2250 4900 2250
Wire Wire Line
	4900 2400 1850 2400
Text Label 3150 1800 0    50   ~ 0
B-TO-EXP
Text Label 3150 1950 0    50   ~ 0
EXP-TO-B
Text Label 3150 2100 0    50   ~ 0
EXP-CONNECTED
Text Label 3150 2250 0    50   ~ 0
L-SIGMN
Text Label 3150 2400 0    50   ~ 0
L-SIGE
Text Label 3150 5150 0    50   ~ 0
J
Text Label 3150 5350 0    50   ~ 0
K
Text Label 2250 5950 0    50   ~ 0
VIN
Text Label 6250 2350 0    50   ~ 0
EN1
Text Label 6250 2500 0    50   ~ 0
EN2
Text Label 8100 2700 0    50   ~ 0
BRIDGE1
Text Label 8100 2850 0    50   ~ 0
BRIDGE2
Text Label 8100 3000 0    50   ~ 0
BRIDGE3
Text Label 8100 3150 0    50   ~ 0
BRIDGE4
Text Label 7050 3750 0    50   ~ 0
BRIDGE-OVERHEAT
Text Label 3150 950  0    50   ~ 0
L-DCC
$Sheet
S 4900 1200 1300 3500
U 61CC7683
F0 "Microcontroller" 50
F1 "mcu.sch" 50
F2 "L-DCC" I R 6200 3150 50 
F3 "SDA" B L 4900 1350 50 
F4 "SCL" B L 4900 1500 50 
F5 "B-TO-EXP" O L 4900 1800 50 
F6 "EXP-TO-B" I L 4900 1950 50 
F7 "EXP-CONNECTED" I L 4900 2100 50 
F8 "EN1" O R 6200 2350 50 
F9 "EN2" O R 6200 2500 50 
F10 "BRIDGE-OVERHEAT" I R 6200 3750 50 
F11 "STABIL-OVERHEAT" I L 4900 4350 50 
F12 "STEPDOWN-EN" O L 4900 4200 50 
F13 "L-SIGMN" O L 4900 2250 50 
F14 "L-SIGE" O L 4900 2400 50 
F15 "OVERLOAD" I L 4900 4500 50 
F16 "VIN" I L 4900 4050 50 
$EndSheet
$Sheet
S 650  700  1200 6850
U 61EDD3FC
F0 "IO" 50
F1 "io.sch" 50
F2 "SDA" B R 1850 3450 50 
F3 "SCL" B R 1850 3600 50 
F4 "EXP-TO-B" O R 1850 1950 50 
F5 "B-TO-EXP" I R 1850 1800 50 
F6 "EXP-CONNECTED" O R 1850 2100 50 
F7 "L-SIGE" I R 1850 2400 50 
F8 "L-DCC" O R 1850 950 50 
F9 "L-SIGMN" I R 1850 2250 50 
F10 "J" I R 1850 5150 50 
F11 "K" I R 1850 5350 50 
F12 "VIN" O R 1850 5950 50 
$EndSheet
$Comp
L Graphic:Logo_Open_Hardware_Small #LOGO1
U 1 1 625581C2
P 6350 7100
F 0 "#LOGO1" H 6350 7375 50  0001 C CNN
F 1 "Logo_Open_Hardware_Small" H 6350 6875 50  0001 C CNN
F 2 "" H 6350 7100 50  0001 C CNN
F 3 "~" H 6350 7100 50  0001 C CNN
	1    6350 7100
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H1
U 1 1 6255AE96
P 5000 6450
F 0 "H1" H 5100 6496 50  0000 L CNN
F 1 "MountingHole" H 5100 6405 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 6450 50  0001 C CNN
F 3 "~" H 5000 6450 50  0001 C CNN
	1    5000 6450
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H2
U 1 1 6255B0C8
P 5000 6650
F 0 "H2" H 5100 6696 50  0000 L CNN
F 1 "MountingHole" H 5100 6605 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 6650 50  0001 C CNN
F 3 "~" H 5000 6650 50  0001 C CNN
	1    5000 6650
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H3
U 1 1 6255B26B
P 5000 6850
F 0 "H3" H 5100 6896 50  0000 L CNN
F 1 "MountingHole" H 5100 6805 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 6850 50  0001 C CNN
F 3 "~" H 5000 6850 50  0001 C CNN
	1    5000 6850
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H4
U 1 1 6255B389
P 5000 7050
F 0 "H4" H 5100 7096 50  0000 L CNN
F 1 "MountingHole" H 5100 7005 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 7050 50  0001 C CNN
F 3 "~" H 5000 7050 50  0001 C CNN
	1    5000 7050
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H5
U 1 1 6255B4AF
P 5000 7250
F 0 "H5" H 5100 7296 50  0000 L CNN
F 1 "MountingHole" H 5100 7205 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 7250 50  0001 C CNN
F 3 "~" H 5000 7250 50  0001 C CNN
	1    5000 7250
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H6
U 1 1 6255B577
P 5000 7450
F 0 "H6" H 5100 7496 50  0000 L CNN
F 1 "MountingHole" H 5100 7405 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 5000 7450 50  0001 C CNN
F 3 "~" H 5000 7450 50  0001 C CNN
	1    5000 7450
	1    0    0    -1  
$EndComp
$Comp
L Connector:TestPoint TP?
U 1 1 6255F67B
P 4000 3250
AR Path="/61CC7683/6255F67B" Ref="TP?"  Part="1" 
AR Path="/6255F67B" Ref="TP1"  Part="1" 
F 0 "TP1" H 4058 3368 50  0000 L CNN
F 1 "TestPoint" H 4058 3277 50  0000 L CNN
F 2 "TestPoint:TestPoint_Loop_D3.50mm_Drill1.4mm_Beaded" H 4200 3250 50  0001 C CNN
F 3 "~" H 4200 3250 50  0001 C CNN
	1    4000 3250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 6255F681
P 4000 3250
AR Path="/61CC7683/6255F681" Ref="#PWR?"  Part="1" 
AR Path="/6255F681" Ref="#PWR01"  Part="1" 
F 0 "#PWR01" H 4000 3000 50  0001 C CNN
F 1 "GND" H 4005 3077 50  0000 C CNN
F 2 "" H 4000 3250 50  0001 C CNN
F 3 "" H 4000 3250 50  0001 C CNN
	1    4000 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 6500 4600 6500
Wire Wire Line
	4600 6500 4600 4500
Wire Wire Line
	4600 4500 4900 4500
Wire Wire Line
	2000 5950 2000 4050
Wire Wire Line
	2000 4050 4900 4050
Connection ~ 2000 5950
Wire Wire Line
	2000 5950 2800 5950
$Comp
L Device:R R?
U 1 1 61DAC851
P 2700 3050
AR Path="/61CC7683/61DAC851" Ref="R?"  Part="1" 
AR Path="/61EDD3FC/61DAC851" Ref="R?"  Part="1" 
AR Path="/61DAC851" Ref="R7"  Part="1" 
F 0 "R7" H 2770 3096 50  0000 L CNN
F 1 "10k" H 2770 3005 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" V 2630 3050 50  0001 C CNN
F 3 "~" H 2700 3050 50  0001 C CNN
F 4 "C17414" H 2700 3050 50  0001 C CNN "LCSC"
	1    2700 3050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 61DAC858
P 2500 3050
AR Path="/61CC7683/61DAC858" Ref="R?"  Part="1" 
AR Path="/61EDD3FC/61DAC858" Ref="R?"  Part="1" 
AR Path="/61DAC858" Ref="R6"  Part="1" 
F 0 "R6" H 2430 3004 50  0000 R CNN
F 1 "10k" H 2430 3095 50  0000 R CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" V 2430 3050 50  0001 C CNN
F 3 "~" H 2500 3050 50  0001 C CNN
F 4 "C17414" H 2500 3050 50  0001 C CNN "LCSC"
	1    2500 3050
	1    0    0    1   
$EndComp
Wire Wire Line
	2500 2800 2500 2900
Wire Wire Line
	2700 2800 2700 2900
$Comp
L Connector:TestPoint TP?
U 1 1 61DAC861
P 2700 3300
AR Path="/61CC7683/61DAC861" Ref="TP?"  Part="1" 
AR Path="/61EDD3FC/61DAC861" Ref="TP?"  Part="1" 
AR Path="/61DAC861" Ref="TP3"  Part="1" 
F 0 "TP3" V 2700 3650 50  0000 R CNN
F 1 "TestPoint" H 2650 3600 50  0001 R CNN
F 2 "TestPoint:TestPoint_Pad_D1.0mm" H 2900 3300 50  0001 C CNN
F 3 "~" H 2900 3300 50  0001 C CNN
	1    2700 3300
	0    1    1    0   
$EndComp
$Comp
L Connector:TestPoint TP?
U 1 1 61DAC867
P 2500 3300
AR Path="/61CC7683/61DAC867" Ref="TP?"  Part="1" 
AR Path="/61EDD3FC/61DAC867" Ref="TP?"  Part="1" 
AR Path="/61DAC867" Ref="TP2"  Part="1" 
F 0 "TP2" V 2500 3650 50  0000 R CNN
F 1 "TestPoint" H 2600 3650 50  0001 R CNN
F 2 "TestPoint:TestPoint_Pad_D1.0mm" H 2700 3300 50  0001 C CNN
F 3 "~" H 2700 3300 50  0001 C CNN
	1    2500 3300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2500 3200 2500 3300
Connection ~ 2700 3300
Wire Wire Line
	2700 3300 2700 3200
$Comp
L power:+5V #PWR?
U 1 1 61DAC872
P 2700 2800
AR Path="/61EDD3FC/61DAC872" Ref="#PWR?"  Part="1" 
AR Path="/61DAC872" Ref="#PWR06"  Part="1" 
F 0 "#PWR06" H 2700 2650 50  0001 C CNN
F 1 "+5V" H 2715 2973 50  0000 C CNN
F 2 "" H 2700 2800 50  0001 C CNN
F 3 "" H 2700 2800 50  0001 C CNN
	1    2700 2800
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61DAC878
P 2500 2800
AR Path="/61EDD3FC/61DAC878" Ref="#PWR?"  Part="1" 
AR Path="/61DAC878" Ref="#PWR05"  Part="1" 
F 0 "#PWR05" H 2500 2650 50  0001 C CNN
F 1 "+5V" H 2515 2973 50  0000 C CNN
F 2 "" H 2500 2800 50  0001 C CNN
F 3 "" H 2500 2800 50  0001 C CNN
	1    2500 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 3450 2500 3450
Wire Wire Line
	1850 3600 2700 3600
Wire Wire Line
	2700 3300 2700 3600
Connection ~ 2700 3600
Wire Wire Line
	2700 3600 3150 3600
Wire Wire Line
	2500 3300 2500 3450
Connection ~ 2500 3300
Connection ~ 2500 3450
Wire Wire Line
	2500 3450 3150 3450
$EndSCHEMATC
